---
title: æœ¬åœ°ç¿»è¯‘æ¨¡å‹éƒ¨ç½²(ä¸ªäººéšç¬”)
categories: ç”Ÿæ´»æ—¥å¸¸
tags:
  - ç¬”è®°
  - éšç¬”
  - ç§‘æŠ€
location: å—å®
abbrlink: 9fcec3f
summary: >-
  è¿™ç¯‡æ–‡ç« ä»‹ç»äº†åœ¨ä¸ªäººè½»è–„æœ¬ä¸Šéƒ¨ç½²æœ¬åœ°ç¿»è¯‘æ¨¡å‹çš„å®Œæ•´æµç¨‹ï¼Œä»ç¡¬ä»¶å‡†å¤‡åˆ°ç³»ç»Ÿé…ç½®ã€Ollamaå®‰è£…ä¸ä¼˜åŒ–ã€æµè§ˆå™¨é›†æˆä»¥åŠå¸¸è§é—®é¢˜è§£å†³ã€‚å†…å®¹åŒ…æ‹¬ç¡¬ä»¶æ£€æµ‹æ–¹æ³•ã€æ˜¾å­˜ä¸è¿è¡Œå†…å­˜çš„æœ€ä½é…ç½®å»ºè®®ï¼Œä»¥åŠé’ˆå¯¹Intelæ˜¾å¡çš„é©±åŠ¨å®‰è£…æ³¨æ„äº‹é¡¹ï¼›è¯¦ç»†è¯´æ˜äº†Ollamaçš„å®‰è£…è·¯å¾„è‡ªå®šä¹‰ã€æ¨¡å‹ä¸‹è½½ä¸ç®¡ç†ï¼Œå¹¶æ¨èäº†é€‚åˆç¿»è¯‘å’Œæ—¥å¸¸é—®ç­”çš„æ¨¡å‹é€‰æ‹©ï¼›æ­¤å¤–è¿˜æä¾›äº†æµè§ˆå™¨æ’ä»¶é…ç½®ã€APIè®¾ç½®å’Œæ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œå¦‚ç¯å¢ƒå˜é‡è°ƒæ•´ä»¥æå‡GPUæ•ˆç‡å’ŒèŠ‚çœæ˜¾å­˜ï¼Œæœ€ååˆ—å‡ºäº†ç›¸å…³èµ„æºè·å–é€”å¾„ï¼Œå¸®åŠ©ç”¨æˆ·é«˜æ•ˆå®ç°æœ¬åœ°ç¿»è¯‘åŠŸèƒ½ã€‚
date: 2025-07-12 13:18:47
---

## ä¸€ã€ç¡¬ä»¶å‡†å¤‡ä¸ç³»ç»Ÿé…ç½®

### 1. ç¡¬ä»¶è¦æ±‚æ£€æµ‹

- [ç¡¬ä»¶å…¼å®¹æ€§æ£€æµ‹å·¥å…·](https://tools.thinkinai.xyz/)

- **æ˜¾å­˜æ£€æµ‹æ–¹æ³•**ï¼š
  1. `Win+R` â†’ è¾“å…¥ `dxdiag`
  2. å³é”®æ¡Œé¢ â†’ æ˜¾ç¤ºè®¾ç½® â†’ é«˜çº§æ˜¾ç¤ºå™¨è®¾ç½® â†’ æ˜¾ç¤ºå™¨å±æ€§
  3. ä»»åŠ¡ç®¡ç†å™¨ â†’ æ€§èƒ½ â†’ GPU

- **æœ€ä½é…ç½®å»ºè®®**ï¼š
  - å…±äº«æ˜¾å­˜ â‰¥ 8GB
  - è¿è¡Œå†…å­˜ â‰¥ 16GB
  - Intel ARC/Iris Xe ç³»åˆ—æ˜¾å¡(æ›´ç¬¦åˆæœ¬äººä½¿ç”¨è½»è–„æœ¬çš„æƒ…æ™¯)

### 2. é©±åŠ¨æ›´æ–°

- **ä¸‹è½½åœ°å€**ï¼š
  [Intelæ˜¾å¡é©±åŠ¨ä¸‹è½½](https://www.intel.cn/content/www/cn/zh/download/785597/intel-arc-iris-xe-graphics-windows.html)
  
- **å®‰è£…æ³¨æ„äº‹é¡¹**ï¼š
  ```diff
  - ä¸è¦å‹¾é€‰"å…¨æ–°å®‰è£…"ï¼ˆä¼šæ¸…é™¤ç¬”è®°æœ¬OEMè®¾ç½®ï¼‰
  + é€‰æ‹©"è‡ªå®šä¹‰å®‰è£…"ä¿ç•™ç°æœ‰é…ç½®
  ```


### 3. æ¨¡å‹é€‰æ‹©å»ºè®®

| æ¨¡å‹åç§°                  | æ˜¾å­˜è¦æ±‚ | é€‚ç”¨åœºæ™¯          | æ€§èƒ½è¡¨ç° |
| :------------------------ | :------- | :---------------- | :------- |
| **deepseek-r1:8b**        | 8GB      | æ—¥å¸¸é—®ç­”/æ–‡æœ¬å¤„ç† | â­â­â­â­     |
| **deepseek-coder-v2:16b** | 16GB     | ç¼–ç¨‹/`ç¿»è¯‘`       | â­â­â­â­â­    |
| **nomic-embed-text**      | 6GB      | æµè§ˆå™¨å¢å¼º        | â­â­â­      |

> ğŸ’¡ **é€‰æ‹©å»ºè®®**ï¼šæ—¥å¸¸é—®ç­”æ¨è `deepseek-r1:8b`ï¼Œç¿»è¯‘éœ€æ±‚é€‰æ‹© `deepseek-coder-v2:16b`

å®é™…ä½“éªŒä¸‹æ¥ç¬”è®°æœ¬èƒ½é£8bæ¨¡å‹ä¹Ÿæ˜¯å‹‰å¼º



## äºŒã€Ollama å®‰è£…ä¸é…ç½®

å®‰è£…[Ollama Intelä¼˜åŒ–ç‰ˆ](https://www.modelscope.cn/models/Intel/ollama),ä»¥ä¸‹å†…å®¹å±äº`å®˜ç½‘ç‰ˆOllama`çš„å®‰è£…æŒ‡å—å†…å®¹,ä¸‹è½½ä¼˜åŒ–ç‰ˆå¯ä»¥çœç•¥ä»¥ä¸‹æ­¥éª¤.

### 1. è‡ªå®šä¹‰å®‰è£…è·¯å¾„

**æ“ä½œæ­¥éª¤**ï¼š

1. åˆ›å»ºç›®æ ‡ç›®å½•ï¼ˆå¦‚ `D:\apps\Ollama\`ï¼‰

2. ç»ˆç«¯æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š

   `powershell`

   ```powershell
   # æ ‡å‡†CMD
   OllamaSetup.exe /DIR=D:\apps\Ollama
   
   # PowerShell
   ./OllamaSetup.exe /DIR=D:\apps\Ollama
   ```
### 2. éªŒè¯å®‰è£…

`powershell`

```powershell
cd C:\Users\<ç”¨æˆ·å>
ollama -v  # åº”æ˜¾ç¤ºç‰ˆæœ¬å·
```

### 3. æ¨¡å‹ä¸‹è½½ä¸ç®¡ç†

`powershell`

```powershell
# ä¸‹è½½æ¨¡å‹
ollama run deepseek-r1:8b

# æŸ¥çœ‹å·²å®‰è£…æ¨¡å‹
ollama list

# åˆ é™¤æ¨¡å‹
ollama rm <æ¨¡å‹å>
```


## ä¸‰ã€æµè§ˆå™¨é›†æˆæ–¹æ¡ˆ

### 1. Page Assist æ’ä»¶é…ç½®

1. å®‰è£… [Edge Page Assist æ‰©å±•](https://microsoftedge.microsoft.com/addons/detail/page-assist-a-web-ui-fo/ogkogooadflifpmmidmhjedogicnhooa),[Chrome Page Assist æ‹“å±•](https://chromewebstore.google.com/detail/page-assist-%E6%9C%AC%E5%9C%B0-ai-%E6%A8%A1%E5%9E%8B%E7%9A%84-web/jfgfiigpkhlkbnfnbobbkinehhfdhndo)

2. æ‰“å¼€æ‰©å±• â†’ RAGè®¾ç½® â†’ æ–‡æœ¬åµŒå…¥æ¨¡å‹ â†’ `nomic-embed-text`

3. ä¸‹è½½ä¾èµ–æ¨¡å‹ï¼š

   `powershell`

   ```
   ollama pull nomic-embed-text
   ```

### 2. æ²‰æµ¸å¼ç¿»è¯‘è®¾ç½®

**API é…ç½®**ï¼š

```text
APIåœ°å€ï¼šhttp://localhost:11434/v1/chat/completions
æ¨èæ¨¡å‹ï¼šdeepseek-coder-v2:16b(ä¸»è¦æ˜¯çœç•¥æ€è€ƒè¿‡ç¨‹)
```
å®é™…ä½“éªŒä¸‹æ¥,`qwen3å’Œqwen2.5`ä¹ŸæŒºé€‚åˆç¿»è¯‘
**è·¨åŸŸè®¾ç½®**ï¼š

| ç³»ç»Ÿ        | æ“ä½œ                                                         |
| :---------- | :----------------------------------------------------------- |
| **Windows** | æ§åˆ¶é¢æ¿ â†’ ç³»ç»Ÿå±æ€§ â†’ ç¯å¢ƒå˜é‡ â†’ æ–°å»ºï¼š `OLLAMA_HOST=0.0.0.0` `OLLAMA_ORIGINS=*` |
| **macOS**   | ç»ˆç«¯æ‰§è¡Œï¼š `launchctl setenv OLLAMA_ORIGINS "*"`             |
| **Linux**   | ç»ˆç«¯æ‰§è¡Œï¼š `OLLAMA_ORIGINS="*" ollama serve`                 |

## å››ã€å¸¸è§é—®é¢˜è§£å†³

### 1. æ€§èƒ½ä¼˜åŒ–æŠ€å·§

#### **æ€§èƒ½è°ƒä¼˜**

ä½ å¯ä»¥å°è¯•å¦‚ä¸‹è®¾ç½®æ¥è¿›è¡Œæ€§èƒ½è°ƒä¼˜ï¼š[å†…å®¹å¼•è‡ªModelScope](https://www.modelscope.cn/models/Intel/ollama)

##### ç¯å¢ƒå˜é‡ `SYCL_PI_LEVEL_ZERO_USE_IMMEDIATE_COMMANDLISTS`

ç¯å¢ƒå˜é‡ `SYCL_PI_LEVEL_ZERO_USE_IMMEDIATE_COMMANDLISTS` ç”¨äºæ§åˆ¶æ˜¯å¦ä½¿ç”¨ immediate command lists å°†ä»»åŠ¡æäº¤åˆ° GPUã€‚ä½ å¯ä»¥å°è¯•å°† `SYCL_PI_LEVEL_ZERO_USE_IMMEDIATE_COMMANDLISTS` è®¾ä¸º `1` æˆ– `0` ä»¥æ‰¾åˆ°æœ€ä½³æ€§èƒ½é…ç½®ã€‚

ä½ å¯ä»¥é€šè¿‡å¦‚ä¸‹æ­¥éª¤ï¼Œåœ¨**å¯åŠ¨ Ollama serve ä¹‹å‰**å¯ç”¨ `SYCL_PI_LEVEL_ZERO_USE_IMMEDIATE_COMMANDLISTS`ï¼ˆå¦‚æœ Ollama serve å·²ç»åœ¨è¿è¡Œï¼Œè¯·ç¡®ä¿å…ˆå°†å…¶åœæ­¢ï¼‰ï¼š

- å¯¹äº **Windows** ç”¨æˆ·ï¼š

  - æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œå¹¶é€šè¿‡ `cd /d PATH\TO\EXTRACTED\FOLDER` å‘½ä»¤è¿›å…¥è§£å‹åçš„æ–‡ä»¶å¤¹
  - åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­è®¾ç½® `set SYCL_PI_LEVEL_ZERO_USE_IMMEDIATE_COMMANDLISTS=1`
  - é€šè¿‡è¿è¡Œ `start-ollama.bat` å¯åŠ¨ Ollama serve

- å¯¹äº **Linux** ç”¨æˆ·ï¼š

  - åœ¨ç»ˆç«¯ä¸­è¾“å…¥æŒ‡ä»¤ `cd PATH/TO/EXTRACTED/FOLDER` è¿›å…¥è§£å‹åçš„æ–‡ä»¶å¤¹
  - åœ¨ç»ˆç«¯ä¸­è®¾ç½® `export SYCL_PI_LEVEL_ZERO_USE_IMMEDIATE_COMMANDLISTS=1`
  - é€šè¿‡è¿è¡Œ `./start-ollama.sh` å¯åŠ¨ Ollama serve

#####  **èŠ‚çœ VRAM**

  ä½ å¯ä»¥é€šè¿‡åœ¨**å¯åŠ¨ Ollama serve ä¹‹å‰**è®¾ç½®ç¯å¢ƒå˜é‡ `OLLAMA_NUM_PARALLEL` ä¸º `1` æ¥èŠ‚çº¦æ˜¾å­˜ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼ˆå¦‚æœ Ollama serve å·²ç»åœ¨è¿è¡Œï¼Œè¯·ç¡®ä¿å…ˆå°†å…¶åœæ­¢ï¼‰ï¼š

  - å¯¹äº **Windows** ç”¨æˆ·ï¼š
    - æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œå¹¶é€šè¿‡ `cd /d PATH\TO\EXTRACTED\FOLDER` å‘½ä»¤è¿›å…¥è§£å‹åçš„æ–‡ä»¶å¤¹
    - åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­è®¾ç½® `set OLLAMA_NUM_PARALLEL=1`
    - é€šè¿‡è¿è¡Œ `start-ollama.bat` å¯åŠ¨ Ollama serve
  - å¯¹äº **Linux** ç”¨æˆ·ï¼š
    - åœ¨ç»ˆç«¯ä¸­è¾“å…¥æŒ‡ä»¤ `cd PATH/TO/EXTRACTED/FOLDER` è¿›å…¥è§£å‹åçš„æ–‡ä»¶å¤¹
    - åœ¨ç»ˆç«¯ä¸­è®¾ç½® `export OLLAMA_NUM_PARALLEL=1`
    - é€šè¿‡è¿è¡Œ `./start-ollama.sh` å¯åŠ¨ Ollama serve

  å¯¹äº **MoE æ¨¡å‹**ï¼ˆæ¯”å¦‚ `qwen3:30b`ï¼‰ï¼Œä½ å¯ä»¥é€šè¿‡åœ¨**å¯åŠ¨ Ollama serve ä¹‹å‰**è®¾ç½®ç¯å¢ƒå˜é‡ `OLLAMA_SET_OT` æŠŠ experts ç§»åˆ° CPU è¿è¡Œä¸Šæ¥èŠ‚çº¦æ˜¾å­˜ï¼ˆå¦‚æœ Ollama serve å·²ç»åœ¨è¿è¡Œï¼Œè¯·ç¡®ä¿å…ˆå°†å…¶åœæ­¢ï¼‰ï¼š

  - å¯¹äº **Windows** ç”¨æˆ·ï¼š
    - æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œå¹¶é€šè¿‡ `cd /d PATH\TO\EXTRACTED\FOLDER` å‘½ä»¤è¿›å…¥è§£å‹åçš„æ–‡ä»¶å¤¹
    - åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­è®¾ç½® `set OLLAMA_SET_OT="exps=CPU"` æŠŠæ‰€æœ‰çš„ experts æ”¾åœ¨ CPU ä¸Šï¼›ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚ `set OLLAMA_SET_OT="(2[4-9]|[3-9][0-9])\.ffn_.*_exps\.=CPU"` æŠŠ `24` åˆ° `99` å±‚çš„ experts æ”¾åˆ° CPU ä¸Š
    - é€šè¿‡è¿è¡Œ `start-ollama.bat` å¯åŠ¨ Ollama serve
  - å¯¹äº **Linux** ç”¨æˆ·ï¼š
    - åœ¨ç»ˆç«¯ä¸­è¾“å…¥æŒ‡ä»¤ `cd PATH/TO/EXTRACTED/FOLDER` è¿›å…¥è§£å‹åçš„æ–‡ä»¶å¤¹
    - åœ¨ç»ˆç«¯ä¸­è®¾ç½® `export OLLAMA_SET_OT="exps=CPU"` æŠŠæ‰€æœ‰çš„ experts æ”¾åœ¨ CPU ä¸Šï¼›ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚ `export OLLAMA_SET_OT="(2[4-9]|[3-9][0-9])\.ffn_.*_exps\.=CPU"` æŠŠ `24` åˆ° `99` å±‚çš„ experts æ”¾åˆ° CPU ä¸Š
    - é€šè¿‡è¿è¡Œ `./start-ollama.sh` å¯åŠ¨ Ollama serve

### 2. æ¨¡å‹ä½¿ç”¨å»ºè®®

{% mermaid %}
A[ä»»åŠ¡ç±»å‹] --> B{æ¨¡å‹é€‰æ‹©}
B -->|æ—¥å¸¸é—®ç­”| C[deepseek-r1:8b]
B -->|ç¼–ç¨‹ç¿»è¯‘| D[deepseek-coder-v2:16b]
B -->|ç½‘é¡µå¢å¼º| E[nomic-embed-text]
{% endmermaid %}


### 3. èµ„æºè·å–

- [Intelä¼˜åŒ–ç‰ˆOllama](https://www.modelscope.cn/models/Intel/ollama)
- [ç¡¬ä»¶å…¼å®¹æ€§æ£€æµ‹å·¥å…·](https://tools.thinkinai.xyz/)
- [å®˜æ–¹æ–‡æ¡£](https://ollama.com/)